<!DOCTYPE html>
<html>

<head>
    <title>きふわらべのさくらサーバー</title>
</head>

<body>

    <h1>JSONロードテスト</h1>
    <script>
        var getJSON = function(url, callback) {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', url, true);
            xhr.responseType = 'json';
            xhr.setRequestHeader( "X-Request-Source",  "XMLHttpRequest" );
            xhr.onload = function() {
                var status = xhr.status;
                if (status === 200) {
                    callback(null, xhr.response);
                } else {
                    callback(status, xhr.response);
                }
            };
            xhr.send();
        };

        var url = 'https://golan.sakura.ne.jp/denryusen/dr2_tsec/dr2ts7-_match_status'
        getJSON(
            url,
            function(err, data) {
                if (err !== null) {
                    alert('Something went wrong: ' + err);
                } else {
                    alert('Your query count: ' + data.query.count);
                }
            }
        );
    </script>

</body>

</html>

